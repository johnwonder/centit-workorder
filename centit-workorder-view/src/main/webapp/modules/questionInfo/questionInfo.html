<div class="easyui-layout" id="userinfo_panel" xmlns:contentType="http://www.w3.org/1999/xhtml"
     xmlns:contentType="http://www.w3.org/1999/xhtml">

    <div >

        <div class="easyui-panel search-body" cls="search" style="width: 100%;">
            <form class="clearFromValue">
                <div class="search-item">
                    <label>业务系统</label>
                    <input class="easyui-combobox" id="selectOsId" data-options="
					valueField: 'label',
					textField: 'value',
				"  name="osId" />
                </div>
                <div class="search-item">
                    <label>问题类别</label>
                    <input class="easyui-textbox" id="selectCatalogName" data-options="
					valueField: 'label',
					textField: 'value',
				"  name="catalogName" />
                </div>
                <div class="search-item">
                    <label>责任人</label>
                    <input class="easyui-textbox" id="selectCurrentOperator" data-options="
					valueField: 'label',
					textField: 'value',
				"  name="currentOperator" />
                </div>
                <div class="search-item">
                    <label>标题</label>
                    <input class="easyui-textbox" id="selectQuestionTitle" data-options="
					valueField: 'label',
					textField: 'value',
				"  name="questionTitle" />
                </div>
                <div class="search-item">
                    <label>内容</label>
                    <input class="easyui-textbox" id="selectQuestionContent" data-options="
					valueField: 'label',
					textField: 'value',
				"  name="questionContent" />
                </div>
                <div class="search-item">
                    <label>开始</label>
                    <input class="easyui-datetimebox" id="timeStart" data-options=""
                           name="begin"/>
                </div>
                <div class="search-item">
                    <label>结束</label>
                    <input class="easyui-datetimebox" id="timeEnd" data-options="
					showSeconds:true"
                           name="end"/>
                </div>

                <a class="easyui-linkbutton btn-search" iconCls="icon-search" onclick="search();"><p  id="e@btn.search">搜索</p></a>
                <a class="easyui-linkbutton" style="margin-top:8px;" iconcls="icon-reload" onclick="javascript:$('.clearFromValue').form('clear');$('.defaultChecked').prop('checked','true');" group="" id="">
                    <p>重置</p>
                </a>
<!--表格绑定的toolbar-->

            </form>

        </div>
        <div class="temp-toolbar">
            <a rel="add" href="modules\questionInfo\questionInfo-add.html" iconCls="icon-add"
               trigger="none"
               target="dialog"
               title="新建工单"
               width="400"
               btnValue="新增"
               >新增</a>
            <a rel="replay" href="modules\questionInfo\questionInfo-replay.html" iconCls="icon-edit"
               trigger="single"
               target="dialog"
               title="工单回复"
               style="overflow:auto; width:800px; height:800px;"
               btnValue="回复"
            >回复</a>
            <a rel="edit" href="modules\questionInfo\questionInfo-edit.html" iconCls="icon-edit"
               trigger="single"
               target="dialog"
               title="修改责任人"
               width="400"
               btnValue="修改责任人"
            >修改责任人</a>
            <!--target为confirm的title为confirm中显示的文字-->
            <a rel="delete" iconCls="icon-remove"
               trigger="single"
               target="confirm"
               title="确认删除问题吗？"
               width="400"
               btnValue="删除"
            >删除</a>
            <a rel="close" iconCls="icon-remove"
               trigger="single"
               target="confirm"
               title="确认关闭问题吗？"
               width="400"
               btnValue="关闭问题"
            >关闭问题</a>
            <!--confirm dialog不需要html-->
        </div>

        <!--<div>-->
        <!--<a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-add" plain="true"  onclick="newQuestion()">新增</a>-->
        <!--<a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-edit" plain="true" onclick="replayQuestion()">回复</a>-->
        <!--<a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-edit" plain="true" onclick="editOperator()">修改责任人</a>-->
        <!--<a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-remove" plain="true" onclick="destroyQuestion()">删除</a>-->
        <!--<a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-remove" plain="true" onclick="closeQuestion()">关闭问题</a>-->
        <!--</div>-->
        <table id="dg" url="service/questioninfo/getall/aa"
               width="98%"
               bottom="0"
               search=".search"
               toolbar=".temp-toolbar"
               layoutH="65"
        >
            <thead>
            <tr>
                <th data-options="field:'questionId'" width="1%" sortable="true" hidden=" true">questionId</th>
                <th data-options="field:'catalogId'" width="1%" sortable="true" hidden=" true">catalogId</th>
                <th data-options="field:'userName'" width="10%" sortable="true">用户名称</th>
                <th data-options="field:'questionTitle'" width="15%" sortable="true">标题</th>
                <th data-options="field:'questionContent'" width="20%" sortable="true">内容</th>
                <th data-options="field:'editState'" width="10%" sortable="true" formatter="formatterEditStatus">编辑状态</th>
                <th data-options="field:'questionState'" width="10%" sortable="true" formatter="formatterQuesStatus">问题状态</th>
                <th data-options="field:'currentOperator'" width="10%" sortable="true">责任人</th>
                <th data-options="field:'createTime'" width="20%" sortable="true">创建时间</th>
            </tr>
            </thead>
        </table>
    </div>
</div>

<!--修改责任人-->

<!--<div id="dlg-buttons">-->
    <!--<a href="javascript:void(0)" class="easyui-linkbutton c6" iconCls="icon-ok" onclick="saveOperator()" style="width:90px">Save</a>-->
    <!--<a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-cancel" onclick="javascript:$('#dlg').dialog('close')" style="width:90px">Cancel</a>-->
<!--</div>-->

<!--新增工单-->

<!--<div id="dlg_new-buttons">-->
    <!--<a href="javascript:void(0)" class="easyui-linkbutton c6" iconCls="icon-ok" onclick="saveQuestion()" style="width:90px">Save</a>-->
    <!--<a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-cancel" onclick="javascript:$('#dlg_new').dialog('close')" style="width:90px">Cancel</a>-->
<!--</div>-->


<!--<div id="dlg_replay-buttons">-->
    <!--<a href="javascript:void(0)" class="easyui-linkbutton c6" iconCls="icon-ok" onclick="saveReplay()" style="width:90px">Save</a>-->
    <!--<a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-cancel" onclick="close_replay()" style="width:90px">Cancel</a>-->
<!--</div>-->
<script type="text/javascript">
//根据字符formatter编辑和问题状态的值
function formatterEditStatus(val,row) {

    if(val.indexOf('U') != -1){
        val = ' 已被编辑' ;
    }
    else if(val.indexOf('N') != -1){val =' 未编辑';}
    else {val =' 状态不明';}
    return val;
}

function formatterQuesStatus(val,row) {

    if(val.indexOf('C') != -1){
        val = ' 关闭' ;
        }
    else if(val.indexOf('N') != -1){val =' 正常';}
      else {val =' 状态不明';}
    return val;
}




    var Core = require('core/core');
    var allPanel;
    var url;
    $.parser.onComplete = function(panel) {
        $.parser.onComplete = $.noop;
        allPanel = panel;
        requirejs([
            'core/filter/filter.dictionary',
            'modules/questionInfo/ctrl/questionInfo'
        ], function(FilterDictionary, FileAccessLog) {
            FilterDictionary.add(['YesOrNo']).then(function() {
                new FileAccessLog('questionInfo', panel).load(panel);
            });
        });
    };
    setI18NText("");

</script>