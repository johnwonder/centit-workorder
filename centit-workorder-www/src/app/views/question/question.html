<form class="ct-margin-12-auto">
  <div class="col-sm-6 selector-set ct-margin-top-12 ct-padding-left-0">

    <a class="ss-item" ng-if="vm.s_questionTitle">
      <b>标题：</b>
      <em>{{vm.s_questionTitle}}</em>
      <i ng-click="vm.remove('s_questionTitle')"></i>
    </a>
    <a class="ss-item" ng-if="vm.s_begTime || vm.s_endTime">
      <b>创建时间：</b>
      <em>{{vm.s_begTime? (vm.s_begTime | date:'yyyy-MM-dd') :'从古'}} - {{vm.s_endTime? (vm.s_endTime   | date:'yyyy-MM-dd') : '至今'}}</em>
      <i ng-click="vm.remove('s_createTime')"></i>
    </a>
    <a class="ss-item" ng-if="vm.s_questionState">
      <b>状态：</b>
      <em ng-if="vm.s_questionState=='U'">未处理</em>
      <em ng-if="vm.s_questionState=='H'">已分配</em>
      <em ng-if="vm.s_questionState=='R'">处理中</em>
      <em ng-if="vm.s_questionState=='C'">已完结</em>
      <i ng-click="vm.remove('s_questionState')"></i>
    </a>

  </div>
  <div class="col-sm-6 ct-margin-top-12 ct-padding-right-0">
    <div class="input-group input-group-sm pull-right"
         ng-class="{'col-sm-12': isQuestionSearchTitleFocus, 'col-sm-8': !isQuestionSearchTitleFocus}">
      <input type="text" class="form-control" id="questionSearchTitle" placeholder="输入工单标题查询"
             ng-focus="isQuestionSearchTitleFocus = true"
             ng-blur="isQuestionSearchTitleFocus = false" ng-model="vm.s_questionTitle">
      <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-12  ct-margin-top-12">
      <table class="search-table">
        <tbody>
        <tr>
          <td>创建时间：</td>
          <td>
            <input type="text" uib-datepicker-popup
                   is-open="s_begTime.opened"
                   class="form-control input-sm"
                   placeholder="选择工单创建时间"
                   ng-model="vm.s_begTime" ng-focus="s_begTime.opened = true">


          </td>
          <td>至</td>
          <td>
            <input type="text" uib-datepicker-popup
                   is-open="s_endTime.opened"
                   class="form-control input-sm"
                   placeholder="选择工单创建时间"
                   ng-model="vm.s_endTime" ng-focus="s_endTime.opened = true">
          </td>
        </tr>
        <tr>
          <td>工单状态：</td>
          <td colspan="3">
            <label class="radio-inline">
              <input type="radio" name="state" value="" ng-model="vm.s_questionState"> 全部
            </label>
            <label class="radio-inline">
              <input type="radio" name="state" value="U" ng-model="vm.s_questionState"> 未处理
            </label>
            <label class="radio-inline">
              <input type="radio" name="state" value="H" ng-model="vm.s_questionState"> 已分配
            </label>
            <label class="radio-inline">
              <input type="radio" name="state" value="R" ng-model="vm.s_questionState"> 处理中
            </label>
            <label class="radio-inline">
              <input type="radio" name="state" value="C" ng-model="vm.s_questionState"> 已完结
            </label>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</form>



<div class="panel">
  <table class="table table-bordered table-hover">
    <thead>
    <tr>
      <th width="80px" class="text-center">状态</th>
      <th>标题</th>
      <th class="text-center" width="180">创建时间</th>
      <th class="text-center" width="250">操作</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="row in vm.questions | pageSize:vm.currentPage | filter:{questionTitle:vm.s_questionTitle,questionState:vm.s_questionState} | timeFilter:vm.s_begTime:vm.s_endTime">
      <td class="text-center">
        <span ng-if="row.questionState=='U'" class="label panel-label label-danger" >未处理</span>
        <span ng-if="row.questionState=='H'" class="label panel-label label-warning" >已分配</span>
        <span ng-if="row.questionState=='R'" class="label panel-label label-success" >处理中</span>
        <span ng-if="row.questionState=='C'" class="label panel-label label-primary" >已完结</span>
      </td>
      <td><a ui-sref="root.question.view({ questionId: row.questionId,osId:vm.osId })">{{row.questionTitle}}</a></td>
      <td class="text-center">
        {{row.createTime | date:'yyyy-MM-dd HH:mm:ss'}}
      </td>
      <td class="text-center">
        <button type="button" class="btn btn-info" ng-click="vm.view(row)">查看</button>
        <button type="button" class="btn btn-warning" ng-click="vm.edit(row)" ng-if="row.questionState=='U'">编辑</button>
        <button type="button" class="btn btn-danger" ng-click="vm.del(row)" ng-if="row.questionState=='U' || row.questionState=='C'">删除</button>
      </td>
    </tr>
    <tr>
      <td colspan="4" class="no-hover">
        <nav aria-label="Page" class="text-center ct-fr flex">
          <ul class="ct-no-margin"
              uib-pagination boundary-links="true" total-items="vm.questions.length"
              ng-model="vm.currentPage" previous-text="&lsaquo;" next-text="&rsaquo;"
              first-text="&laquo;" last-text="&raquo;"></ul>
        </nav>
      </td>
    </tr>
    </tbody>



  </table>
</div>






